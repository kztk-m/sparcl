data Either a b = Left a | Right b 

sig isLeft : Either a b -> Bool 
def isLeft (Left _) = True 
         | (Right _) = False 

sig f : rev a -o rev (Either a a) 
def f (rev x) = rev Right x with isLeft

-- Should cause a runtime error 
sig err : Either Int Int 
def err = let (fwd, bwd) <- unlift f in fwd 1 